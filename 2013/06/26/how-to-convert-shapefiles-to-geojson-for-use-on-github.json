{"title":"How to convert Shapefiles to GeoJSON maps for use on GitHub (and why you should)","excerpt":"An automated process for converting ESRI Shapefiles to .geoJSON map files so that they can be more easily used with GitHub.com","author":"Ben Balter","layout":"post","comments":true,"category":"Technology","tags":["github","geojson","json","gis","shapefiles","maps","mapping"],"related_posts":[{"url":"/2010/09/12/wordpress-resume-plugin/","id":"/2010/09/12/wordpress-resume-plugin","title":"WordPress Resume Plugin"},{"url":"/2010/09/13/new-media-flak-megaphone-vs-cocktail-party/","id":"/2010/09/13/new-media-flak-megaphone-vs-cocktail-party","title":"New Media Flak: Megaphone vs. Cocktail Party"},{"url":"/2010/10/10/does-every-cloud-have-a-silver-lining/","id":"/2010/10/10/does-every-cloud-have-a-silver-lining","title":"Does Every Cloud Have a Silver Lining?"},{"url":"/2010/11/06/removing-the-barriers-to-organizational-agility/","id":"/2010/11/06/removing-the-barriers-to-organizational-agility","title":"Removing the Barriers to Organizational Agility\n"},{"url":"/2010/11/08/what-fourteen-century-apple-pie-teaches-us-about-sharing/","id":"/2010/11/08/what-fourteen-century-apple-pie-teaches-us-about-sharing","title":"What Fourteen-Century Apple Pie Teaches Us About Sharing\n"},{"url":"/2010/11/15/will-federal-contracting-officers-soon-have-their-heads-in-the-clouds/","id":"/2010/11/15/will-federal-contracting-officers-soon-have-their-heads-in-the-clouds","title":"Will Federal Contracting Officers Soon Have Their Heads in the Clouds?\n"},{"url":"/2010/11/29/free-trade-in-china-just-google-it/","id":"/2010/11/29/free-trade-in-china-just-google-it","title":"Free Trade in China? Just Google it."},{"url":"/2010/11/29/twitter-mentions-as-comments/","id":"/2010/11/29/twitter-mentions-as-comments","title":"Twitter Mentions as Comments WordPress Plugin\n"},{"url":"/2010/12/01/the-internet-is-series-of-tubes/","id":"/2010/12/01/the-internet-is-series-of-tubes","title":"The Internet is Series of Tubes (oh, and Tollgates too)\n"},{"url":"/2010/12/20/late-night-infomercials/","id":"/2010/12/20/late-night-infomercials","title":"Late-Night Infomercials: Guaranteed to Extend the 4th Amendment or Your Money Back"}],"url":"/2013/06/26/how-to-convert-shapefiles-to-geojson-for-use-on-github/","date":"2013-06-26 00:00:00 -0400","id":"/2013/06/26/how-to-convert-shapefiles-to-geojson-for-use-on-github","categories":["technology"],"next":"/2013/07/01/technologys-the-easy-part","previous":"/2013/06/12/an-open-letter-to-government-cios","content":"<p>With <a href='https://github.com/blog/1541-geojson-rendering-improvements'>GitHub natively supporting mapping</a> and embeds, I recently wanted to put some of the free, publicly available government data published on <a href='http://data.dc.gov/Main_DataCatalog.aspx'>data.dc.gov</a> to use. They have all sorts of great information, from <a href='https://github.com/benbalter/dc-maps/blob/master/dc-circulator-routes.geojson'>bus routes</a> to <a href='https://github.com/benbalter/dc-maps/blob/master/polling-places.geojson'>polling places</a>, to <a href='https://github.com/benbalter/dc-maps/blob/master/abra-licensee.geojson'>the location of every liquor license</a> in DC. The only problem was that the data was stored in a proprietary and complex format known as <a href='https://en.wikipedia.org/wiki/Shapefile'>a Shapefile</a> which arose in an age when the desktop ruled supreme and requires a <a href='http://www.esri.com/software/arcgis/arcgis-for-home'>costly software subscriptionn</a> for many common uses.</p>\n\n<p>Luckily, a strangely named piece of open source software known as <a href='http://www.gdal.org/ogr2ogr.html'>ogr2ogr</a> can convert the data into the more modern, more open <a href='http://en.wikipedia.org/wiki/GeoJSON'>GeoJSON format</a> that GitHub supports, and the resulting map can be automatically rendered, not to mention more easily diffed.</p>\n\n<h2 id='if_youve_got_a_mac_it_only_takes_a_few_seconds'>If you&#8217;ve got a Mac, it only takes a few seconds:</h2>\n<!-- more -->\n<ol>\n<li>\n<p>If you don&#8217;t already have it, install homebrew by opening up terminal and running: <div class='highlight'><pre><code class='console'><span class='gp'>$</span> ruby -e <span class='s2'>&quot;$(curl -fsSL https://raw.github.com/mxcl/homebrew/go)&quot;</span>\n</code></pre></div></p>\n</li>\n\n<li>\n<p>Install <a href='http://www.gdal.org/'>gdal</a> with the command: <div class='highlight'><pre><code class='console'><span class='gp'>$</span> brew install gdal\n</code></pre></div></p>\n</li>\n\n<li>\n<p>Grab a Shapefile (distributed as a .zip file) from the <a href='http://data.dc.gov/Main_DataCatalog.aspx'>DC Data Catalog</a> or your favorite data source and unzip it someplace convenient</p>\n</li>\n\n<li>\n<p><code>cd</code> into the directory with your shiny new unzipped Shapefile</p>\n</li>\n\n<li>\n<p>Run (replacing <code>[name]</code> with the name of your downloaded Shapefile): <div class='highlight'><pre><code class='console'><span class='gp'>$</span> ogr2ogr -f GeoJSON -t_srs crs:84 <span class='o'>[</span>name<span class='o'>]</span>.geojson <span class='o'>[</span>name<span class='o'>]</span>.shp\n</code></pre></div></p>\n</li>\n\n<li>\n<p>Grab the resulting GeoJSON file and commit it to GitHub</p>\n</li>\n\n<li>\n<p>Navigate to the GeoJSON file on GitHub.com to browse your map</p>\n</li>\n</ol>\n\n<p>In addition to converting the Shapefile over to GeoJSON, the other step in there, <code>-t_srs crs:84</code>, ensures that by the time the data hits GitHub, it&#8217;s encoded with the right <a href='http://maps.unomaha.edu/Peterson/gis/notes/MapProjCoord.html'>projection</a> so it can be mapped properly. Need to convert multiple Shapefiles in bulk? Just use <a href='https://gist.github.com/benbalter/5858851'>this bulk Shapefile to geoJSON conversion script</a>. Windows users? <a href='http://blog.thematicmapping.org/2013/06/converting-shapefiles-to-topojson.html'>You&#8217;re covered too</a>.</p>\n\n<p><em>Note:</em> The same process should work for KML files as well, replacing <code>[name].shp</code> with <code>[name].kml</code>.</p>\n\n<h2 id='so_whys_this_important'>So why&#8217;s this important?</h2>\n\n<p>For one, you&#8217;re liberating public geodata that would otherwise be inaccessible to the average citizen and making it available in a dumb-simple point, click, zoom interface that anyone can use. For another, by putting the information on GitHub in an open, text-based format, civic hackers and subject-matter experts can begin treating that data like open source code — forking, merging, diffing, tracking changes over time — and all of a sudden we&#8217;ve opened up not just the data, but the entire collaborative ecosystem that now surrounds it.</p>\n\n<h2 id='the_result'>The result</h2>\n<script src='https://embed.github.com/view/geojson/benbalter/dc-maps/master/embassies.geojson'>&nbsp;</script>","path":"_posts/2013-06-26-how-to-convert-shapefiles-to-geojson-for-use-on-github.md"}